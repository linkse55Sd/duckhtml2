<div id="adContainer">
    <div class="closeButton" onclick="closeAd()">Ã—</div>
    <div id="adOverlay" onclick="openAdLink()"></div>

    <!-- Ad iframe for encapsulating the ad script -->
    <iframe id="adIframe" srcdoc="
        <script>
            var afg = {};
            afg.u = 6289;
            afg.s = 7;
            document.write('<scr' + 'ipt src=\'//js.adforgames.com/cd.js\'></scr' + 'ipt>');
        </script>
    " style="width: 100%; height: 100%; border: none;"></iframe>
</div>

<script>
    let adUrl = ""; // Variable to store the ad URL

    function showAdContainer() {
        document.getElementById('adContainer').style.display = 'block';

        // Get the ad URL from the iframe
        const adIframe = document.getElementById('adIframe');
        adIframe.onload = function() {
            try {
                const iframeDoc = adIframe.contentDocument || adIframe.contentWindow.document;
                const adLink = iframeDoc.querySelector('a');
                if (adLink) {
                    adUrl = adLink.href;
                }
            } catch (e) {
                console.error("Could not access iframe content due to cross-origin restrictions.");
            }
        };
    }

    function openAdLink() {
        if (adUrl) {
            window.location.href = adUrl;
        }
    }

    function closeAd() {
        document.getElementById('adContainer').style.display = 'none';
    }

    // Show the ad container after a 5-second delay
    setTimeout(showAdContainer, 5000);
</script>

<style>
    /* Ad container style */
    #adContainer {
        width: 300px;
        height: 250px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #121212;
        border-radius: 10px;
        display: none;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
        z-index: 1000;
    }

    /* Overlay covering the entire ad container for capturing clicks */
    #adOverlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
        z-index: 1;
    }

    .closeButton {
        position: absolute;
        top: 5px;
        right: 5px;
        font-size: 24px;
        color: #fff;
        cursor: pointer;
        width: 30px;
        height: 30px;
        background-color: #333;
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2;
    }
</style>
